
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. یک مثال مقدماتی &#8212; Python Programming for Economics and Finance</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" href="_static/styles/quantecon-book-theme.css?digest=dbac30014ddb092b35ab80b3076a22a196655849" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css?v=982b99e0" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>


    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/scripts/quantecon-book-theme.js?digest=ceefa0362b71a389a50c4058a117a949b54259bd"></script>
    <script src="_static/scripts/jquery.js?v=5d32c60e"></script>
    <script src="_static/scripts/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-X7DH1M2DPY"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-X7DH1M2DPY');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-X7DH1M2DPY');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'python_by_example';</script>
    <link rel="canonical" href="https://python-programming-fa.quantecon.org/python_by_example.html" />
    <link rel="icon" href="_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. توابع" href="functions.html" />
    <link rel="prev" title="2. بیاین شروع کنیم" href="getting_started.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski (Translation by Zahra Khanzadeh)" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="یک مثال مقدماتی"/>
<meta name="twitter:description" content="This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="یک مثال مقدماتی" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://python-programming-fa.quantecon.org/python_by_example.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski." />
<meta property="og:site_name" content="Python Programming for Economics and Finance" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body dir="rtl">

<!-- Override QuantEcon theme colors -->

    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=python_by_example>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">3.1. مقدمه</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">3.2. هدف:رسم یک فرآیند نویز سفید</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">3.3. روش اول</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">3.3.1. Imports</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#import">3.3.1.1. چرا در برنامه نویسی پایتون، از Importهای متعددی استفاده می شود؟</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#packages">3.3.1.2. پکیج ها(Packages)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#subpackages">3.3.1.3. زیرپکیج ها (Subpackages)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3.3.2. وارد کردن مستقیم توابع یا متغیرها از یک پکیج</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">3.3.3. نمونه گیری تصادفی</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">3.4. روش های دیگر پیاده سازی برنامه</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#for">3.4.1. یک نسخه با حلقه تکرار For</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">3.4.2. لیست ها</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">3.4.3. حلقه For</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indentation">3.4.4. یادداشتی درباره تورفتگی (Indentation)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#while">3.4.5. حلقه های While</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3.5. یک کاربرد دیگر</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">3.6. تمرینات</a></li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo.png" class="logo logo-img" alt="logo"></a>
                                    
                                    <a href=https://quantecon.org><img src="_static/quantecon-logo-transparent.png" class="dark-logo-img" alt="logo"></a>
                                    
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/v1/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="intro.html">Python Programming for Economics and Finance</a></p>

                    </div>

                    <!-- Authors section -->
                        <p class="qe-page__header-authors" font-size="18">
                            
                                
                                    <a href="http://www.tomsargent.com/" target="_blank"><span>Thomas J. Sargent</span></a>
                                
                            
                                
                                    and <a href="https://johnstachurski.net/" target="_blank"><span>John Stachurski</span></a>
                                
                            
                        </p>

                    <!-- Last modified / Changelog dropdown -->
                        <button class="qe-page__header-changed" id="changelog-toggle" aria-expanded="false">
                            Last changed: Dec 05, 2025
                            <span class="changelog-icon">▼</span>
                        </button>

                    <!-- Changelog dropdown content -->
                    <div class="qe-page__header-changelog" id="changelog-content" aria-hidden="true">
                        <h4>Changelog (<a href="https://github.com/QuantEcon/lecture-python-programming.fa/commits/main/python_by_example.md">full history</a>)</h4>
                        <ul class="changelog-list">
                            
                            <li class="changelog-entry">
                                
                                <a href="https://github.com/QuantEcon/lecture-python-programming.fa/commit/5e6e497" class="changelog-hash">5e6e497</a>
                                
                                <span class="changelog-author">Matt McKay</span>
                                <span class="changelog-time">5 minutes ago</span>
                                <span class="changelog-message">Fix writing_good_code reference warning</span>
                            </li>
                            
                        </ul>
                    </div>

                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <section class="tex2jax_ignore mathjax_ignore" id="python-by-example">
<span id="id1"></span><h1><span class="section-number">3. </span>یک مثال مقدماتی<a class="headerlink" href="#python-by-example" title="Link to this heading">#</a></h1>
<section id="id2">
<h2><span class="section-number">3.1. </span>مقدمه<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>حال ما آماده ایم تا یادگیری زبان برنامه نویسی پایتون را آغاز کنیم.</p>
<p>در این بخش، ابتدا چند کد کوتاه پایتون می نویسیم و سپس آنها را بررسی و تحلیل می کنیم.</p>
<p>هدف این درس، آشنایی شما با نحو(syntax) پایه ای پایتون و ساختارهای داده ای آن است و با مباحث پیچیده تر در جلسات بعد آشنا خواهیم شد.</p>
<p>پیش از شروع این درس، باید جلسه ی قبل را مطالعه کرده باشید.</p>
</section>
<section id="id3">
<h2><span class="section-number">3.2. </span>هدف:رسم یک فرآیند نویز سفید<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>فرض کنید می خواهیم یک فرآیند نویز سفید به صورت <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>ϵ</mi>
<mn>0</mn>
</msub>
<mo>,</mo>
<msub>
<mi>ϵ</mi>
<mn>1</mn>
</msub>
<mo>,</mo>
<mo>…</mo>
<mo>,</mo>
<msub>
<mi>ϵ</mi>
<mi>T</mi>
</msub>
</math> ، شبیه سازی و رسم کنیم، که در آن هر <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>ϵ</mi>
<mi>t</mi>
</msub>
</math> یک مقدار مستقل و از توزیع نرمال استاندارد است.</p>
<p>به بیان دیگر، می خواهیم نمودارهایی همانند نمودار زیر تولید کنیم:</p>
<p><img alt="نمودار فرآیند نویز سفید" src="_images/test_program_1_updated.png" /></p>
<p>(در اینجا <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>t</mi>
</math> محور افقی و <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>ϵ</mi>
<mi>t</mi>
</msub>
</math> محور عمودی است.)</p>
<p>ما این کار را به چند روش مختلف انجام خواهیم داد و هر بار نکات بیشتری درباره ی پایتون خواهیم آموخت.</p>
</section>
<section id="id4">
<h2><span class="section-number">3.3. </span>روش اول<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>در ادامه چند خط کد آمده که کاری را که تعریف کرده بودیم، انجام می دهد.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">ϵ_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ϵ_values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1310af6635ebf4cf01ddc05523f9fa35f73a401ddabedf63a04565562be6ea48.png" src="_images/1310af6635ebf4cf01ddc05523f9fa35f73a401ddabedf63a04565562be6ea48.png" />
</div>
</div>
<p>بیایید این برنامه را تجزیه و تحلیل کنیم و ببینیم چگونه کار میکند.</p>
<section id="imports">
<h3><span class="section-number">3.3.1. </span>Imports<a class="headerlink" href="#imports" title="Link to this heading">#</a></h3>
<p>دو خط اول کد، قابلیت هایی را از کتابخانه های خارجی وارد می کند.</p>
<p>خط اول NumPY را وارد می کند؛ بسته ای محبوب در پایتون برای کارهایی مانند:</p>
<ul class="simple">
<li><p>کار با آرایه ها (بردارها و ماتریس ها)</p></li>
<li><p>توابع ریاضی رایج مانند <code class="docutils literal notranslate"><span class="pre">cos</span></code> و <code class="docutils literal notranslate"><span class="pre">sqrt</span></code></p></li>
<li><p>تولید اعداد تصادفی</p></li>
<li><p>جبر خطی و غیره.</p></li>
</ul>
<p>پس از وارد کردن کتابخانه با دستور <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></code>، می توانیم از طریق نحو <code class="docutils literal notranslate"><span class="pre">np.attribute</span></code> به این قابلیت ها دسترسی پیدا کنیم.</p>
<p>در ادامه دو مثال دیگر آورده ایم:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(2.0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.3862943611198906)
</pre></div>
</div>
</div>
</div>
<section id="import">
<h4><span class="section-number">3.3.1.1. </span>چرا در برنامه نویسی پایتون، از Importهای متعددی استفاده می شود؟<a class="headerlink" href="#import" title="Link to this heading">#</a></h4>
<p>برنامه های پایتون معمولا به چندین دستور <code class="docutils literal notranslate"><span class="pre">import</span></code> نیاز دارند.</p>
<p>دلیل این موضوع این است که هسته ی زبانی پایتون عمداً کوچک نگه داشته شده تا یادگیری، نگهداری و توسعه ی آن آسان باشد.</p>
<p>وقتی بخواهید کارهای جالب تر و پیشرفته تری با پایتون انجام دهید، تقریبا همیشه باید قابلیت های اضافی را با استفاده از <code class="docutils literal notranslate"><span class="pre">import</span></code> به برنامه اضافه کنید.</p>
</section>
<section id="packages">
<h4><span class="section-number">3.3.1.2. </span>پکیج ها(Packages)<a class="headerlink" href="#packages" title="Link to this heading">#</a></h4>
<p>همانطور که پیشتر گفته شد، NumPy یک پکیج پایتونی است.</p>
<p>پکیج ها ابزاری هستند که توسعه دهندگان برای سازمان دهی کدی که می خواهند به اشتراک بگذارند از آن ها استفاده می کنند.</p>
<p>در واقع، یک <strong>پکیج</strong> چیزی نیست جز یک پوشه (دایرکتوری) که شامل موارد زیر است:</p>
<ol class="arabic simple">
<li><p>فایل هایی حاوی کد پایتون - که در اصطلاح پایتون به آن ها <strong>ماژول</strong> (modules)گفته می شود.</p></li>
<li><p>گاهی ممکن است شامل کدهایی کامپایل شده باشد که پایتون توانایی دسترسی به آن ها را دارد (مثلا توابعی که از زبان هایی مثل C یا FORTRAN کامپایل شده اند)</p></li>
<li><p>فایلی به نام <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> که مشخص می کند هنگامی که می نویسیم <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">package_name</span></code> چه چیزی اجرا شود</p></li>
</ol>
<p>می توانید با اجرای کد زیر در پایتون، محل فایل <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> مربوط به NumPY را بررسی کنید:</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="subpackages">
<h4><span class="section-number">3.3.1.3. </span>زیرپکیج ها (Subpackages)<a class="headerlink" href="#subpackages" title="Link to this heading">#</a></h4>
<p>به خط حاوی <code class="docutils literal notranslate"><span class="pre">ϵ_values</span> <span class="pre">=</span> <span class="pre">np.random.randn(100)</span></code> در کد توجه کنید.</p>
<p>در این دستور، <code class="docutils literal notranslate"><span class="pre">np</span></code> به پکیج NumPY اشاره دارد، و <code class="docutils literal notranslate"><span class="pre">random</span></code> یک زیرپکیج از NumPY است.</p>
<p>زیرپکیج ها در واقع همان پکیج هایی هستند که به صورت زیرپوشه(ساب دایرکتوری) درون یک پکیج دیگر قرار دارند.</p>
<p>برای مثال اگر به ساختار پکیج NumPY نگاه کنید، می توانید پوشه ای به نام <code class="docutils literal notranslate"><span class="pre">random</span></code> را درون آن پیدا کنید.</p>
</section>
</section>
<section id="id5">
<h3><span class="section-number">3.3.2. </span>وارد کردن مستقیم توابع یا متغیرها از یک پکیج<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>کدی را که پیشتر دیدیم به خاطر بیاورید</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(2.0)
</pre></div>
</div>
</div>
</div>
<p>در اینجا روش دیگری برای دسترسی به تابع جذر در NumPY آمده است.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">sqrt</span>

<span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(2.0)
</pre></div>
</div>
</div>
</div>
<p>این روش هم کاملا درست کار می کند.</p>
<p>مزیت این روش این است که اگر در کد خود از <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> زیاد استفاده کنیم، در این صورت تایپ کمتری خواهیم داشت.</p>
<p>اما عیب آن این است که در یک کد طولانی، ممکن است این دو خط با تعداد زیادی از خطوط دیگر از هم جدا شوند.
در این صورت خوانندگان اگر بخواهند بدانند که <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> از کجا آمده، برای فهمیدن منبع آن دچار مشکل خواهند شد.</p>
</section>
<section id="id6">
<h3><span class="section-number">3.3.3. </span>نمونه گیری تصادفی<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>بیاید به کدی که نویز سفید رسم می کند برگردیم. سه خط بعد از دستور Import به این صورت هستند:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ϵ_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ϵ_values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2b31ed4333ff3c33f8bc6cf72d6255a6d62ab3f42111d2eaf9369bfbfb5e96ab.png" src="_images/2b31ed4333ff3c33f8bc6cf72d6255a6d62ab3f42111d2eaf9369bfbfb5e96ab.png" />
</div>
</div>
<p>خط اول 100 عدد نرمال استاندارد (تقریبا) مستقل تولید می کند و آن ها را در متغیر <code class="docutils literal notranslate"><span class="pre">ϵ_values</span></code> ذخیره می کند.</p>
<p>دو خط بعدی نمودار را رسم می کنند.</p>
<p>در ادامه، روش های مختلفی را بررسی خواهیم کرد تا بتوانیم این نمودار را بهتر تنظیم و بهینه سازی کنیم.</p>
</section>
</section>
<section id="id7">
<h2><span class="section-number">3.4. </span>روش های دیگر پیاده سازی برنامه<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<p>بیایید چندتا نسخه ی جایگزین برای اولین برنامه مان بنویسیم؛ برنامه ای که مقادیر تصادفی مستقل و با توزیع یکسان (IID) از توزیع نرمال استاندارد را رسم می کرد.</p>
<p>برنامه هایی که در ادامه می بینید، نسبت به نسخه اصلی کارایی کمتری دارند و از این نظر کمی غیرطبیعی هستند. اما آنها به ما کمک می کنند تا برخی از سینتکس ها و معانی مهم پایتون را در یک محیط آشنا نشان دهیم.</p>
<section id="for">
<h3><span class="section-number">3.4.1. </span>یک نسخه با حلقه تکرار For<a class="headerlink" href="#for" title="Link to this heading">#</a></h3>
<p>این نسخه حلقه های <code class="docutils literal notranslate"><span class="pre">For</span></code> و لیست های پایتون را نشان می دهد.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ts_length</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">ϵ_values</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1"># empty list</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ts_length</span><span class="p">):</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>
    <span class="n">ϵ_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ϵ_values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8be45e1679049dc8cb4c9ef6d8221bf8ff468997944392a7206f1bfa2d6f9aa8.png" src="_images/8be45e1679049dc8cb4c9ef6d8221bf8ff468997944392a7206f1bfa2d6f9aa8.png" />
</div>
</div>
<p>به طور خلاصه:</p>
<ul class="simple">
<li><p>خط اول طول موردنظر برای سری زمانی را تعیین می کند.</p></li>
<li><p>خط بعدی یک لیست خالی به نام <code class="docutils literal notranslate"><span class="pre">ϵ_values</span></code> ایجاد می کند که مقادیر تولید شده را در خود ذخیره خواهد کرد.</p></li>
<li><p>عبارت <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">empty</span> <span class="pre">list</span></code> یک توضیح (کامنت) است و توسط مفسر پایتون نادیده گرفته می شود.</p></li>
<li><p>سه خط بعدی حلقه <code class="docutils literal notranslate"><span class="pre">For</span></code> هستند که به طور پیوسته یک عدد تصادفی جدید <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>ϵ</mi>
<mi>t</mi>
</msub>
</math> تولید می کنند و آنها را به انتهای لیست <code class="docutils literal notranslate"><span class="pre">ϵ_values</span></code> اضافه می کنند.</p></li>
<li><p>دو خط آخر نمودار را تولید کرده و به کاربر نمایش می دهند.</p></li>
</ul>
<p>بیایید برخی از بخش های این کد را با جزئیات بیشتری بررسی کنیم.</p>
</section>
<section id="id8">
<h3><span class="section-number">3.4.2. </span>لیست ها<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>دستور <code class="docutils literal notranslate"><span class="pre">ϵ_values</span> <span class="pre">=</span> <span class="pre">[]</span></code> را در نظر بگیرید، این دستور یک لیست خالی ایجاد می کند.</p>
<p>لیست ها یک ساختار داده داخلی در پایتون هستند که برای گروه بندی مجموعه ای از اشیا استفاده می شوند.</p>
<p>همچنین لیست ها ترتیب عناصر را حفظ می کنند و اجازه وجود داده های تکراری را نیز می دهند.</p>
<p>برای مثال، این کد را امتحان کنید:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list
</pre></div>
</div>
</div>
</div>
<p>عنصر اول لیست X یک <a class="reference external" href="https://en.wikipedia.org/wiki/Integer_(computer_science)">عدد صحیح (integer)</a> است، عنصر بعدی یک <a class="reference external" href="https://en.wikipedia.org/wiki/String_(computer_science)">رشته متنی (string)</a>، و عنصر سوم یک مقدار <a class="reference external" href="https://en.wikipedia.org/wiki/Boolean_data_type">بولین (Boolean value)</a> می باشد.</p>
<p>برای اضافه کردن مقدار به لیست میتوانیم از دستور <code class="docutils literal notranslate"><span class="pre">list_name.append(some_value)</span></code> استفاده کنیم.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, &#39;foo&#39;, False]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, &#39;foo&#39;, False, 2.5]
</pre></div>
</div>
</div>
</div>
<p>در اینجا <code class="docutils literal notranslate"><span class="pre">()append</span></code> یک <strong>متد</strong> <strong>(method)</strong> محسوب می شود. متد ها توابعی هستند که به یک شیء متصل می شوند. (در اینجا به لیست X متصل شده است)</p>
<p>ما در ادامه به طور کامل با متدها آشنا خواهیم شد، اما برای درک اولیه:</p>
<ul class="simple">
<li><p>اشیاء پایتون مانند لیست ها، رشته ها و غیره همگی دارای متد هایی هستند که برای پردازش و تغییر داده های درون شیء استفاده می شوند.</p></li>
<li><p>هر نوع شیء در پایتون متدهای مخصوص به خود را دارد، برای مثال اشیاء رشته ای دارای <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#string-methods">متدهای مخصوص رشته ها</a> هستند ،لیست ها <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists">متد لیستی</a> دارند.</p></li>
</ul>
<p>یکی دیگر از متدهای کاربردی لیست، <code class="docutils literal notranslate"><span class="pre">()pop</span></code> است.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, &#39;foo&#39;, False, 2.5]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, &#39;foo&#39;, False]
</pre></div>
</div>
</div>
</div>
<p>در پایتون، شماره گذاری عناصر لیست ها از صفر شروع می شود یا به عبارتی zero-based هستند.(همانند زبان های C، جاوا یا Go) به این معنا که اولین عنصر لیست با <code class="docutils literal notranslate"><span class="pre">x[0]</span></code> ارجاع داده می شود.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>   <span class="c1"># first element of x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>   <span class="c1"># second element of x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;foo&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h3><span class="section-number">3.4.3. </span>حلقه For<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p>حالا بیایید حلقه <code class="docutils literal notranslate"><span class="pre">for</span></code> از برنامه ای که قبلا نوشتیم را دوباره بررسی کنیم:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ts_length</span><span class="p">):</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>
    <span class="n">ϵ_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>در اینجا پایتون دو خط تورفته (indented lines) را به تعداد <code class="docutils literal notranslate"><span class="pre">ts_length</span></code> بار قبل از اینکه به ادامه کد برود، اجرا می کند.</p>
<p>این دو خط به عنوان یک <strong>بلوک کد (code block)</strong> شناخته می شوند، چرا که “بلوک” کدی را تشکیل می دهد که در حلقه تکرار می شوند.</p>
<p>برخلاف اکثر زبان های برنامه نویسی دیگر، پایتون محدوده بلوک را <strong>فقط از روی تو رفتگی</strong> تشخصی می دهد.</p>
<p>در برنامه ای که ما نوشته ایم، کاهش تورفتگی پس از خط <code class="docutils literal notranslate"><span class="pre">ϵ_values.append(e)</span></code> ، به پایتون می فهماند که این خط نشان دهنده انتهای بلوک کد است.</p>
<p>بعدا بیشتر درباره تورفتگی (indentation) صحبت خواهیم کرد؛ اما حالا بیایید به مثال دیگری از حلقه For بپردازیم:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The plural of &quot;</span> <span class="o">+</span> <span class="n">animal</span> <span class="o">+</span> <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="n">animal</span> <span class="o">+</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The plural of dog is dogs
The plural of cat is cats
The plural of bird is birds
</pre></div>
</div>
</div>
</div>
<p>این مثال به شفاف سازی نحوه عملکرد حلقه <code class="docutils literal notranslate"><span class="pre">for</span></code> کمک می کند: هنگامیکه یک حلقه با ساختار زیر اجرا می کنیم</p>
<div class="no-execute highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">variable_name</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code</span> <span class="n">block</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>مفسر پایتون مراحل زیر را انجام می دهد:</p>
<ul class="simple">
<li><p>برای هر عنصر از دنباله <code class="docutils literal notranslate"><span class="pre">sequence</span></code>، نام متغیر <code class="docutils literal notranslate"><span class="pre">variable_name</span></code> را به آن عنصر متصل (blind) می کند و سپس بلوک کد را اجرا می کند.</p></li>
</ul>
</section>
<section id="indentation">
<h3><span class="section-number">3.4.4. </span>یادداشتی درباره تورفتگی (Indentation)<a class="headerlink" href="#indentation" title="Link to this heading">#</a></h3>
<p>در بحث درباره حلقه <code class="docutils literal notranslate"><span class="pre">for</span></code> توضیح دادیم که بلوک های کدی که در حلقه تکرار می شوند با تورفتگی (indentation) مشخص می شوند.</p>
<p>در واقع در پایتون، <strong>همه</strong> بلوک های کد (شامل آن هایی که درون حلقه ها، شروط if، تعریف توابع و موارد مشابه قرار دارند) با تورفتگی از یکدیگر متمایز می شوند.</p>
<p>برخلاف اکثر زبان های برنامه نویسی دیگر، فاصله های سفید (whitespace) در کد پایتون مستقیما بر خروجی برنامه تاثیر می گذارند.</p>
<p>یکبار که از آن اساده کنید، مزایای کار با آن برایتان آشکار می شود؛ زیرا این قابلیت:</p>
<ul class="simple">
<li><p>تورفتگی های تمیز و منسجم ایجاد می کند و خوانایی را بهبود می بخشد.</p></li>
<li><p>بی نظمی هایی مانند براکت ها یا دستورات پایانی که در زبان های دیگر استفاده می شوند را حذف می کند.</p></li>
</ul>
<p>از سوی دیگر، استفاده صحیح از این قابلیت به کمی دقت نیاز دارد، پس بنابراین به یادداشته باشید:</p>
<ul class="simple">
<li><p>خط ماقبل شروع یک بلوک کد با یک دونقطه (:) پایان می یابد، همانند مثال های زیر :</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(10):</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y:</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">100:</span></code></p></li>
</ul>
</li>
<li><p>همه ی خطوط داخل یک بلوک کد باید مقدار یکسانی تورفتگی داشته باشند.</p></li>
<li><p>استاندارد پایتون برای تورفتگی، 4 فاصله (space) است و شما هم باید از همین مقدار استقاده کنید.</p></li>
</ul>
</section>
<section id="while">
<h3><span class="section-number">3.4.5. </span>حلقه های While<a class="headerlink" href="#while" title="Link to this heading">#</a></h3>
<p>حلقه <code class="docutils literal notranslate"><span class="pre">for</span></code> رایج ترین تکنیک برای تکرار در پایتون است.</p>
<p>اما برای توضیح بهتر، اجازه دهید برنامه ای را که قبلا نوشتیم، تغییر دهیم و از یک حلقه <code class="docutils literal notranslate"><span class="pre">while</span></code> به جای آن استقاده کنیم.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ts_length</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">ϵ_values</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ts_length</span><span class="p">:</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>
    <span class="n">ϵ_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ϵ_values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d3498617712fbb14bdeb296692fbf397bcff49a623636526d244a35ccc5da9ad.png" src="_images/d3498617712fbb14bdeb296692fbf397bcff49a623636526d244a35ccc5da9ad.png" />
</div>
</div>
<p>حلقه while به اجرای بلوک کد (که با تورفتگی مشخص شده است)ادامه می دهد تا زمانی که شرط (<code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">ts_length</span></code>) برقرار باشد.</p>
<p>در این حالت، برنامه به افزودن مقادیر به لیست <code class="docutils literal notranslate"><span class="pre">ϵ_values</span></code> ادامه می دهد تا زمانی که <code class="docutils literal notranslate"><span class="pre">i</span></code> برابر با <code class="docutils literal notranslate"><span class="pre">ts_length</span></code> شود:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">==</span> <span class="n">ts_length</span> <span class="c1">#the ending condition for the while loop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>توجه داشته باشید که:</p>
<ul class="simple">
<li><p>بلوک کد مربوط به حلقه <code class="docutils literal notranslate"><span class="pre">while</span></code> تنها با تورفتگی (indentation) مشخص می شود.</p></li>
<li><p>عبارت <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">1</span></code> را می توان با <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">+=</span> <span class="pre">1</span></code> جایگزین کرد.</p></li>
</ul>
</section>
</section>
<section id="id10">
<h2><span class="section-number">3.5. </span>یک کاربرد دیگر<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p>بیایید قبل از پرداختن به تمرینات، یک کاربرد دیگر را بررسی کنیم.</p>
<p>در این مثال، موجودی یک حساب بانکی را در طول زمان رسم می کنیم.</p>
<p>در این بازه زمانی هیچ برداشتی انجام نشده و تاریخ پایان دوره را با <span class="math notranslate nohighlight">\(T\)</span> نشان می دهیم.</p>
<p>موجودی اولیه <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>b</mi>
<mn>0</mn>
</msub>
</math> و نرخ بهره <span class="math notranslate nohighlight">\(r\)</span> است.</p>
<p>موجوی حساب از دوره <span class="math notranslate nohighlight">\(t\)</span> به <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>t</mi>
<mo>+</mo>
<mn>1</mn>
</math> طبق رابطه <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>b</mi>
<mrow data-mjx-texclass="ORD">
<mi>t</mi>
<mo>+</mo>
<mn>1</mn>
</mrow>
</msub>
<mo>=</mo>
<mo stretchy="false">(</mo>
<mn>1</mn>
<mo>+</mo>
<mi>r</mi>
<mo stretchy="false">)</mo>
<msub>
<mi>b</mi>
<mi>t</mi>
</msub>
</math> به روزرسانی می شود.</p>
<p>در کد زیر دنباله ی <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>b</mi>
<mn>0</mn>
</msub>
<mo>,</mo>
<msub>
<mi>b</mi>
<mn>1</mn>
</msub>
<mo>,</mo>
<mo>…</mo>
<mo>,</mo>
<msub>
<mi>b</mi>
<mi>T</mi>
</msub>
</math> را تولید و رسم می کنیم.</p>
<p>برای ذخیره این دنباله، به جای استفاده از یک لیست پایتون، از یک آرایه NumPy استفاده خواهیم کرد.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mf">0.025</span>         <span class="c1"># interest rate</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">50</span>            <span class="c1"># end date</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># an empty NumPy array, to store all b_t</span>
<span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>         <span class="c1"># initial balance</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">*</span> <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;bank balance&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d4d690aa48f2a2c3703379205ffbcb9048f6e5d2321d31dfd6fa3b97c4328e54.png" src="_images/d4d690aa48f2a2c3703379205ffbcb9048f6e5d2321d31dfd6fa3b97c4328e54.png" />
</div>
</div>
<p>عبارت <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">np.empty(T+1)</span></code> حافظه ای برای ذخیره اعداد <code class="docutils literal notranslate"><span class="pre">T+1</span></code> (که اعداد اعشاری هستند) اختصاص می دهد.</p>
<p>سپس این اعداد توسط حلقه ی <code class="docutils literal notranslate"><span class="pre">for</span></code> مقداردهی می شوند.</p>
<p>اختصاص دادن حافظه در ابتدای کار کارآمدتر از استقاده از یک لیست پایتون و متد <code class="docutils literal notranslate"><span class="pre">append</span></code> است، چون در روش دوم، برنامه باید به طور مکرر از سیستم عامل درخواست فضای حافظه جدید کند.</p>
<p>توجه کنید که ما به نمودار یک راهنما یا عنوان نمادها (legend) را اضافه کرده ایم ؛ قابلیتی که از شما خواسته خواهد شد در تمرینات استفاده کنید.</p>
</section>
<section id="id11">
<h2><span class="section-number">3.6. </span>تمرینات<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<p>اکنون به سراغ تمرین ها می رویم. مهم است که آنها را قبل از اینکه به سراغ درس بعدی بروید کامل کنید، زیرا این تمرین ها مفاهیم جدیدی را معرفی می کنند که در ادامه به آن ها نیاز خواهیم داشت.</p>
<div class="exercise admonition" id="pbe_ex1">

<p class="admonition-title"><span class="caption-number">Exercise 3.1 </span></p>
<section id="exercise-content">
<p>اولین تکلیف شما شبیه سازی و رسم نمودار یک سری زمانی همبسته (correlated time series
) است.</p>
<div class="math notranslate nohighlight">
\[
x_{t+1} = \alpha \, x_t + \epsilon_{t+1}
\quad \text{where} \quad
x_0 = 0
\quad \text{and} \quad t = 0,\ldots,T
\]</div>
<p>فرض می شود که دنباله ی شوک ها <math xmlns="http://www.w3.org/1998/Math/MathML">
<mo fence="false" stretchy="false">{</mo>
<msub>
<mi>ϵ</mi>
<mi>t</mi>
</msub>
<mo fence="false" stretchy="false">}</mo>
</math> مستقل و با توزیع یکسان(IID)، و دارای توزیع نرمال استاندارد باشد.</p>
<p>در راه حل خود، دستورات import را تنها به موارد زیر محدود و تنها از کتابخانه های زیر استفاده کنید</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>مقادیر  <span class="math notranslate nohighlight">\(T\)</span> و <span class="math notranslate nohighlight">\(\alpha\)</span> را به ترتیب <span class="math notranslate nohighlight">\(T=200\)</span> و <span class="math notranslate nohighlight">\(\alpha = 0.9\)</span> قرار دهید.</p>
</section>
</div>
<div class="solution dropdown admonition" id="python_by_example-solution-1">

<p class="admonition-title">Solution to<a class="reference internal" href="#pbe_ex1"> Exercise 3.1</a></p>
<section id="solution-content">
<p>یک راه حل این است:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">α</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">α</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1c46513e2865dd80a8fb0b039e0dfee4f4d8cac116936426a899de372a784d60.png" src="_images/1c46513e2865dd80a8fb0b039e0dfee4f4d8cac116936426a899de372a784d60.png" />
</div>
</div>
</section>
</div>
<div class="exercise admonition" id="pbe_ex2">

<p class="admonition-title"><span class="caption-number">Exercise 3.2 </span></p>
<section id="exercise-content">
<p>با استفاده از راه حل تمرین 1، یک سری زمانی شبیه سازی شده رسم کنید؛ یکی برای هر کدام از حالت های <span class="math notranslate nohighlight">\(\alpha=0\)</span>، <span class="math notranslate nohighlight">\(\alpha=0.8\)</span> و <span class="math notranslate nohighlight">\(\alpha=0.98\)</span>.</p>
<p>از یک حلقه <code class="docutils literal notranslate"><span class="pre">for</span></code> برای پیمایش مقادیر مختلف <span class="math notranslate nohighlight">\(\alpha\)</span> استفاده کنید.</p>
<p>اگر میتوانید، یک راهنما(legend) به نمودار اضافه کنید تا بتوان تفاوت بین این سه سری زمانی را تشخیص داد.</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>اگر چندبار تابع <code class="docutils literal notranslate"><span class="pre">plot()</span></code> را قبل از فراخوانی <code class="docutils literal notranslate"><span class="pre">show()</span></code> اجرا کنید، تمام خطوط رسم شده در یک نمودار نمایش داده خواهند شد.</p></li>
<li><p>برای افزودن راهنما (legend)، توجه داشته باشید که اگر متغیر <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">=</span> <span class="pre">42</span></code> باشد، عبارت <code class="docutils literal notranslate"><span class="pre">f'foo{var}'</span></code> به رشته <code class="docutils literal notranslate"><span class="pre">'foo42'</span></code> تبدیل می شود.</p></li>
</ul>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="python_by_example-solution-3">

<p class="admonition-title">Solution to<a class="reference internal" href="#pbe_ex2"> Exercise 3.2</a></p>
<section id="solution-content">
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">α_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">]</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">α</span> <span class="ow">in</span> <span class="n">α_values</span><span class="p">:</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
        <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">α</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">alpha = </span><span class="si">{</span><span class="n">α</span><span class="si">}</span><span class="s1">$&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9c8be0fa9348caae17dd99ff390e58654d44e83eb5fdbff0ff23621adca6ebfe.png" src="_images/9c8be0fa9348caae17dd99ff390e58654d44e83eb5fdbff0ff23621adca6ebfe.png" />
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>عبارت <code class="docutils literal notranslate"><span class="pre">f'$\\alpha</span> <span class="pre">=</span> <span class="pre">{α}$'</span></code> در راه حل، نمونه ای از اف-استرینگ (<a class="reference external" href="https://docs.python.org/3/tutorial/inputoutput.html#tut-f-strings">f-String</a>) در پایتون است. این قابلیت به شما اجازه می دهد تا از <code class="docutils literal notranslate"><span class="pre">{}</span></code> برای قراردادن یک عبارت درون رشته استفاده کنید.</p>
<p>عبارت داخل <code class="docutils literal notranslate"><span class="pre">{}</span></code> ارزیابی (محاسبه) می شود و نتیجه ی آن درون رشته جایگزین می گردد.</p>
</div>
</section>
</div>
<div class="exercise admonition" id="pbe_ex3">

<p class="admonition-title"><span class="caption-number">Exercise 3.3 </span></p>
<section id="exercise-content">
<p>همانند تمرینات قبلی، سریزمانی را رسم کنید.</p>
<div class="math notranslate nohighlight">
\[
x_{t+1} = \alpha \, |x_t| + \epsilon_{t+1}
\quad \text{where} \quad
x_0 = 0
\quad \text{and} \quad t = 0,\ldots,T
\]</div>
<p>همانند قبل از <span class="math notranslate nohighlight">\(T=200\)</span>،  <span class="math notranslate nohighlight">\(\alpha = 0.9\)</span> و <span class="math notranslate nohighlight">\(\{\epsilon_t\}\)</span> استفاده کنید.</p>
<p>به صورت آنلاین جست و جو کنید و یک تابع پیدا کنید که بتوان برای محاسبه قدرمطلق <math xmlns="http://www.w3.org/1998/Math/MathML">
<mo stretchy="false">|</mo>
<msub>
<mi>x</mi>
<mi>t</mi>
</msub>
<mo stretchy="false">|</mo>
</math> از آن استفاده کرد.</p>
</section>
</div>
<div class="solution dropdown admonition" id="python_by_example-solution-5">

<p class="admonition-title">Solution to<a class="reference internal" href="#pbe_ex3"> Exercise 3.3</a></p>
<section id="solution-content">
<p>یک راه حل این است:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">α</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">α</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/198ce4f446bdbb815e6b6b5a87e4e5173d9b9faf3535a1c6f3d2cc1e82074c82.png" src="_images/198ce4f446bdbb815e6b6b5a87e4e5173d9b9faf3535a1c6f3d2cc1e82074c82.png" />
</div>
</div>
</section>
</div>
<div class="exercise admonition" id="pbe_ex4">

<p class="admonition-title"><span class="caption-number">Exercise 3.4 </span></p>
<section id="exercise-content">
<p>یکی از جنبه های مهم، تقریبا در تمام زبان های برنامه نویسی، برنچینگ (branching) و شرط ها (conditions) هستند.</p>
<p>در پایتون، شرط ها معمولا با استفاده از دستور if–else پیاده سازی می شوند.</p>
<p>در اینجا یک مثال آورده شده است که برای هر عدد منفی در یک آرایه مقدار 1- را چاپ می کند و برای هر عدد صفر یا مثبت مقدار 1 را خروجی می دهد:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-1
1
-1
1
</pre></div>
</div>
</div>
</div>
<p>اکنون یک راه حل جدید برای تمرین 3 بنویسید که در آن از هیچ تابع آماده ای برای محاسبه قدرمطلق استفاده نشده باشد.</p>
<p>به جای استفاده از تابع آماده، از یک دستور شرطی if–else برای محاسبه ی قدرمطلق استفاده کنید.</p>
</section>
</div>
<div class="solution dropdown admonition" id="python_by_example-solution-7">

<p class="admonition-title">Solution to<a class="reference internal" href="#pbe_ex4"> Exercise 3.4</a></p>
<section id="solution-content">
<p>یک روش این است:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">α</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">abs_x</span> <span class="o">=</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">abs_x</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
    <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">α</span> <span class="o">*</span> <span class="n">abs_x</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c05295abc3b803a733fe6e15334c0f1bc7db0bcfce3aa2226063ba5c9c589d81.png" src="_images/c05295abc3b803a733fe6e15334c0f1bc7db0bcfce3aa2226063ba5c9c589d81.png" />
</div>
</div>
<p>در اینجا نیز روش کوتاه تری برای نوشتن همان برنامه وجود دارد:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">α</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">abs_x</span> <span class="o">=</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
    <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">α</span> <span class="o">*</span> <span class="n">abs_x</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/307f3d505b7038452af396ee8246b931dc4b1688c47a57d7a77e5459904aa658.png" src="_images/307f3d505b7038452af396ee8246b931dc4b1688c47a57d7a77e5459904aa658.png" />
</div>
</div>
</section>
</div>
<div class="exercise admonition" id="pbe_ex5">

<p class="admonition-title"><span class="caption-number">Exercise 3.5 </span></p>
<section id="exercise-content">
<p>این تمرین کمی سخت تر است و نیاز به فکر و برنامه ریزی دارد.</p>
<p>تکلیف شما این است که با استفاده از روش <a class="reference external" href="https://en.wikipedia.org/wiki/Monte_Carlo_method">مونته کارلو</a>، یک تقریب برای عدد <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>π</mi>
</math> محاسبه کنید.</p>
<p>به جز موارد زیر، از هیچ کتابخانه ای استفاده نکنید:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<p>راهنماهای شما به شرح زیر است:</p>
<ul class="simple">
<li><p>اگر <span class="math notranslate nohighlight">\(U\)</span> یک متغیرتصادفی دوبعدی یکنواخت روی مربع واحد <math xmlns="http://www.w3.org/1998/Math/MathML">
<mo stretchy="false">(</mo>
<mn>0</mn>
<mo>,</mo>
<mn>1</mn>
<msup>
<mo stretchy="false">)</mo>
<mn>2</mn>
</msup>
</math> باشد، آنگاه احتمال اینکه <span class="math notranslate nohighlight">\(U\)</span> در زیرمجموعه ای <span class="math notranslate nohighlight">\(B\)</span> از <math xmlns="http://www.w3.org/1998/Math/MathML">
<mo stretchy="false">(</mo>
<mn>0</mn>
<mo>,</mo>
<mn>1</mn>
<msup>
<mo stretchy="false">)</mo>
<mn>2</mn>
</msup>
</math> قرار گیرد، برابر با مساحت ناحیه ی <span class="math notranslate nohighlight">\(B\)</span> است.</p></li>
<li><p>اگر <math xmlns="http://www.w3.org/1998/Math/MathML">
<msub>
<mi>U</mi>
<mn>1</mn>
</msub>
<mo>,</mo>
<mo>…</mo>
<mo>,</mo>
<msub>
<mi>U</mi>
<mi>n</mi>
</msub>
</math> نسخه های مستقل و با توزیع یکسان از <span class="math notranslate nohighlight">\(U\)</span> باشند، آنگاه با بزرگ شدن <span class="math notranslate nohighlight">\(n\)</span>، نسبت نقاطی که در ناحیه <span class="math notranslate nohighlight">\(B\)</span> قرار میگیرند، به احتمال قرارگرفتن در <span class="math notranslate nohighlight">\(B\)</span> همگرا می شوند.</p></li>
<li><p>برای یک دایره ،
<span class="math notranslate nohighlight">\(مساحت = \pi * شعاع^2\)</span></p></li>
</ul>
</div>
</section>
</div>
<div class="solution dropdown admonition" id="python_by_example-solution-9">

<p class="admonition-title">Solution to<a class="reference internal" href="#pbe_ex5"> Exercise 3.5</a></p>
<section id="solution-content">
<p>دایره ای با قطر یک را درون یک مربع درنظر بگیرید.</p>
<p>فرض کنید <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>A</mi>
</math> مساحت آن باشد و <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>r</mi>
<mo>=</mo>
<mn>1</mn>
<mrow data-mjx-texclass="ORD">
<mo>/</mo>
</mrow>
<mn>2</mn>
</math> شعاع آن است.</p>
<p>اگر مقدار <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>π</mi>
</math> را بدانیم، میتوانیم مساحت <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>A</mi>
</math> را از طریق  رابطه <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>A</mi>
<mo>=</mo>
<mi>π</mi>
<msup>
<mi>r</mi>
<mn>2</mn>
</msup>
</math> محاسبه کنیم.</p>
<p>اما در اینجا هدف محاسبه ی <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>π</mi>
</math> است، که میتوانیم از رابطه <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>π</mi>
<mo>=</mo>
<mi>A</mi>
<mrow data-mjx-texclass="ORD">
<mo>/</mo>
</mrow>
<msup>
<mi>r</mi>
<mn>2</mn>
</msup>
</math> به دست آوریم.</p>
<p>خلاصه: اگر بتوانیم مساحت دایره ای با قطر 1 را تخمین بزنیم، آنگاه تقسیم کردن آن بر <math xmlns="http://www.w3.org/1998/Math/MathML">
<msup>
<mi>r</mi>
<mn>2</mn>
</msup>
<mo>=</mo>
<mo stretchy="false">(</mo>
<mn>1</mn>
<mrow data-mjx-texclass="ORD">
<mo>/</mo>
</mrow>
<mn>2</mn>
<msup>
<mo stretchy="false">)</mo>
<mn>2</mn>
</msup>
<mo>=</mo>
<mn>1</mn>
<mrow data-mjx-texclass="ORD">
<mo>/</mo>
</mrow>
<mn>4</mn>
</math> تخمینی برای <math xmlns="http://www.w3.org/1998/Math/MathML">
<mi>π</mi>
</math> به ما می دهد.</p>
<p>ما این مساحت را با نمونه گیری از توزیع یکواخت دومتغیره و بررسی کسری از نقاط که درون دایره می افتند، تخمین میزنیم:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">1000000</span> <span class="c1"># sample size for Monte Carlo simulation</span>

<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

    <span class="c1"># drawing random positions on the square</span>
    <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">()</span>

    <span class="c1"># check whether the point falls within the boundary</span>
    <span class="c1"># of the unit circle centred at (0.5,0.5)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">u</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># if it falls within the inscribed circle, </span>
    <span class="c1"># add it to the count</span>
    <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">area_estimate</span> <span class="o">=</span> <span class="n">count</span> <span class="o">/</span> <span class="n">n</span>

<span class="nb">print</span><span class="p">(</span><span class="n">area_estimate</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># dividing by radius**2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.142016
</pre></div>
</div>
</div>
</div>
</section>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                    <p>A theme by <a href="https://quantecon.org">QuantEcon</a></p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Python
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="about_py.html">
   1. درباره ی این دوره
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   2. بیاین شروع کنیم
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   3. یک مثال مقدماتی
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   4. توابع
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   5. Execution Statistics
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <!--
                    # Enable if looking for link to specific document hosted on GitHub
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-programming.fa/blob/main/lectures/python_by_example.md" download><i data-feather="github"></i></a></li>
                    -->
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-programming.fa" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://colab.research.google.com/github/QuantEcon/lecture-python-programming.fa.notebooks/blob/main/python_by_example.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/QuantEcon/lecture-python-programming.fa.notebooks" data-urlpath="tree/lecture-python-programming.fa.notebooks/python_by_example.ipynb" data-branch=main>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://colab.research.google.com/github/QuantEcon/lecture-python-programming.fa.notebooks/blob/main/python_by_example.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "python_by_example";
                const repoURL = "https://github.com/QuantEcon/lecture-python-programming.fa.notebooks";
                const urlPath = "tree/lecture-python-programming.fa.notebooks/python_by_example.ipynb";
                const branch = "main"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>